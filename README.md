# Java Project

## Описание
Java проект за система за управление на магазин, която изпълнява всички изисквания от заданието.

## Функционалност

### Стоки
- **Идентификация**: ID номер, име, единична доставна цена
- **Категории**: Хранителни и нехранителни стоки  
- **Срок на годност**: Дата на изтичане за всяка стока
- **Ценообразуване**: Автоматично изчисляване на продажна цена с надценка по категории
- **Отстъпки**: Автоматично намаление при наближаващ срок на годност
- **Забрана**: Не се продават стоки с изтекъл срок

### Касиери и каси
- **Касиери**: ID, име, месечна заплата
- **Назначаване**: Един касиер на каса, може да работи на различни каси
- **Управление**: Динамично преназначаване между каси

### Продажби и касови бележки
- **Проверки**: Количество на склад, достатъчен бюджет на клиента
- **Касови бележки**: Пореден номер, касиер, дата/час, детайли по стоки, обща стойност
- **Файлове**: Всяка бележка се запазва в отделен .txt и .ser файл
- **Сериализация**: Пълна поддръжка за сериализация/десериализация

### Финансови отчети
- **Приходи**: Общ оборот от продажби
- **Разходи**: Заплати на касиери, разходи за доставка на стоки
- **Печалба**: Автоматично изчисляване на нетна печалба
- **Отчети**: Детайлни отчети по продадени стоки

### Управление на изключения
- `ProductNotFoundException` - несъществуващ продукт
- `ProductExpiredException` - изтекъл срок на годност
- `InsufficientQuantityException` - недостатъчно количество (с детайли)
- `InsufficientBudgetException` - недостатъчен бюджет на клиента
- `CashDeskOccupiedException` - опит за назначаване на заета каса

## Архитектура

### Пакети
- `org.informatics.entity` - Основни класове (Product, Cashier, Receipt, Customer)
- `org.informatics.store` - Основна бизнес логика (Store)
- `org.informatics.service` - Service слой архитектура
- `org.informatics.config` - Конфигурация (StoreConfig)
- `org.informatics.exception` - Специфични изключения
- `org.informatics.util` - Помощни класове (GoodsType)

### Дизайн принципи
- **Service Layer Architecture** - Разделение на отговорностите
- **Dependency Injection** - Чрез конструктори
- **Immutable Configuration** - Използване на Records
- **Type Safety** - BigDecimal за парични операции
- **Exception Safety** - Proper exception handling

## Стартиране

### Предпоставки
- Java 17+ (използва getFirst() метод)
- Gradle wrapper (включен в проекта)

### Команди
```bash
# Компилиране
./gradlew build

# Стартиране на тестовете
./gradlew test

# Стартиране на демото
./gradlew run
```

### Демо сценарий
Демо приложението показва:
1. Инициализация на магазин с конфигурация
2. Добавяне на касиери и каси
3. Зареждане на стоки (хранителни и нехранителни)
4. Различни видове продажби
5. Управление на каси и касиери
6. Работа с файлове (запазване/зареждане)
7. Финансови отчети
8. Обработка на грешки

## Тестове
- **ExceptionTest** - Тества всички изключения
- **FinancialTest** - Тества финансовите изчисления
- **NearExpiryDiscountTest** - Тества отстъпките при наближаващ срок
- **ReceiptTest** - Тества касовите бележки

## Файлови операции
- Касовите бележки се запазват в `receipts/` директория
- Двоен формат: `.txt` (четим текст) и `.ser` (сериализиран обект)
- Автоматично номериране на файловете
- Възможност за зареждане на конкретна бележка или всички

## Конфигурация
Магазинът се конфигурира чрез `StoreConfig`:
- Надценка за хранителни стоки
- Надценка за нехранителни стоки  
- Дни за прилагане на отстъпка при наближаващ срок
- Процент отстъпка при наближаващ срок

## Изпълнени изисквания ✅
Всички изисквания от заданието са напълно изпълнени:
- ✅ Моделиране на стоки с всички полета
- ✅ Различни надценки по категории
- ✅ Отстъпки при наближаващ срок
- ✅ Касиери с назначаване към каси
- ✅ Проверки при продажба с подходящи изключения
- ✅ Касови бележки с пълна информация
- ✅ Запазване във файлове с номериране
- ✅ Сериализация/десериализация
- ✅ Финансови изчисления (разходи, приходи, печалба)
- ✅ Управление на изключения
- ✅ Пълни тестове 